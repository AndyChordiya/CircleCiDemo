# Java Gradle CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-java/ for more details
#
version: 2
jobs:
  build:
    working_directory: ~/code
	docker: 
	      - 
	        image: "circleci/android:api-26-alpha"
	    environment: 
	      JVM_OPTS: "-Xmx3200m"
	    steps: 
	      - checkout
	      - 
	        restore_cache: 
	          key: "jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"app/build.gradle\" }}"
	      - 
	        run: 
	          command: "yes | sdkmanager --licenses && sdkmanager --update"
	          name: "Download Dependencies"
	      - 
	        save_cache: 
	          key: "jars-{{ checksum \"build.gradle\" }}-{{ checksum  \"app/build.gradle\" }}"
	          paths: 
	            - ~/.gradle
	      - 
	        run: 
	          command: "./gradlew lint test"
	          name: "Run Tests"
	      - 
	        store_artifacts: 
	          destination: reports
	          path: app/build/reports
	      - 
	        store_test_results: 
	          path: app/build/test-results